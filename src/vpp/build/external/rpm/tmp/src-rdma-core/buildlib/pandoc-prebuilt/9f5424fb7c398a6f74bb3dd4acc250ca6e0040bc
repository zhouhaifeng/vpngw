.\" Automatically generated by Pandoc 2.5
.\"
.TH "mlx5dv_map_ah_to_qp" "3" "" "" ""
.hy
.SH NAME
.PP
mlx5dv_map_ah_to_qp \- Map the destination path information in address
handle (AH) to the information extracted from the qp.
.SH SYNOPSIS
.IP
.nf
\f[C]
#include <infiniband/mlx5dv.h>

int mlx5dv_map_ah_to_qp(struct ibv_ah *ah, uint32_t qp_num);
\f[R]
.fi
.SH DESCRIPTION
.PP
This API maps the destination path information in address handle
(\f[I]ah\f[R]) to the information extracted from the qp
(e.g.\ congestion control from ECE).
.PP
This API serves as an enhancement to DC and UD QPs to achieve better
performance by using per\-address congestion control (CC) algorithms,
enabling DC/UD QPs to use multiple CC algorithms in the same datacenter.
.PP
The mapping created by this API is implicitly destroyed when the address
handle is destroyed.
It is not affected by the destruction of QP \f[I]qp_num\f[R].
.PP
A duplicate mapping to the same address handle is ignored.
As this API is just a hint for the hardware in this case it would do
nothing and return success regardless of the new qp_num ECE.
.PP
The function must be called after ECE negotiation/preconfiguration was
done by some external means.
.SH ARGUMENTS
.TP
.B \f[I]ah\f[R]
The target\[cq]s address handle.
.TP
.B \f[I]qp_num\f[R]
The initiator QP from which congestion control information is extracted
from its ECE.
.SH RETURN VALUE
.PP
Upon success, returns 0; Upon failure, the value of errno is returned.
.SH SEE ALSO
.PP
\f[I]rdma_cm(7)\f[R], \f[I]rdma_get_remote_ece(3)\f[R],
\f[I]ibv_query_ece(3)\f[R], \f[I]ibv_set_ece(3)\f[R]
.SH AUTHOR
.PP
Yochai Cohen <yochai@nvidia.com>
.PP
Patrisious Haddad <phaddad@nvidia.com>
