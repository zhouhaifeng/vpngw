.\" Automatically generated by Pandoc 2.5
.\"
.TH "RDMA_SET_LOCAL_ECE" "3" "2020\-02\-02" "librdmacm" "Librdmacm Programmer\[cq]s Manual"
.hy
.SH NAME
.PP
rdma_set_local_ece \- Set local ECE paraemters to be used for REQ/REP
communication.
.SH SYNOPSIS
.IP
.nf
\f[C]
#include <rdma/rdma_cma.h>

int rdma_set_local_ece(struct rdma_cm_id *id, struct ibv_ece *ece);
\f[R]
.fi
.SH DESCRIPTION
.PP
\f[B]rdma_set_local_ece()\f[R] set local ECE parameters.
.PP
This function is suppose to be used by the users of external QPs.
The call needs to be performed before replying to the peer and needed to
configure RDMA_CM with desired ECE options.
.PP
Being used by external QP and RDMA_CM doesn\[cq]t manage that QP, the
peer needs to call to libibverbs API by itself.
.PP
Usual flow for the passive side will be:
.IP \[bu] 2
ibv_create_qp() <\- create data QP.
.IP \[bu] 2
ece = ibv_get_ece() <\- get ECE from libibvers provider.
.IP \[bu] 2
rdma_set_local_ece(ece) <\- set desired ECE options.
.IP \[bu] 2
rdma_connect() <\- send connection request
.IP \[bu] 2
ece = rdma_get_remote_ece() <\- get ECE options from remote peer
.IP \[bu] 2
ibv_set_ece(ece) <\- set local ECE options with data received from the
peer.
.IP \[bu] 2
ibv_modify_qp() <\- enable data QP.
.IP \[bu] 2
rdma_accept()/rdma_establish()/rdma_reject_ece()
.SH ARGUMENTS
.TP
.B \f[I]id\f[R]
RDMA communication identifier.
.TP
.B *ece
ECE parameters.
.SH RETURN VALUE
.PP
\f[B]rdma_set_local_ece()\f[R] returns 0 on success, or \-1 on error.
If an error occurs, errno will be set to indicate the failure reason.
.SH SEE ALSO
.PP
\f[B]rdma_cm\f[R](7), rdma_get_remote_ece(3)
.SH AUTHOR
.PP
Leon Romanovsky <leonro@mellanox.com>
